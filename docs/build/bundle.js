var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}function c(t){let e;return i(t,t=>e=t)(),e}function u(t){return null==t?"":t}const a="undefined"!=typeof window;let f=a?()=>window.performance.now():()=>Date.now(),d=a?t=>requestAnimationFrame(t):t;const m=new Set;function h(t){m.forEach(e=>{e.c(t)||(m.delete(e),e.f())}),0!==m.size&&d(h)}function p(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function _(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function v(){return y(" ")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t){return function(e){return e.preventDefault(),t.call(this,e)}}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.data!==e&&(t.data=e)}function C(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function k(t,e,n){t.classList[n?"add":"remove"](e)}let M,q,j=0,O={};function R(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--j&&d(()=>{if(j)return;let t=M.cssRules.length;for(;t--;)M.deleteRule(t);O={}})}function B(n,r,o,l){if(!r)return t;const s=n.getBoundingClientRect();if(r.left===s.left&&r.right===s.right&&r.top===s.top&&r.bottom===s.bottom)return t;const{delay:i=0,duration:c=300,easing:u=e,start:a=f()+i,end:p=a+c,tick:g=t,css:_}=o(n,{from:r,to:s},l);let b,y=!0,v=!1;function w(){_&&R(n,b),y=!1}return function(t){let e;0===m.size&&d(h),new Promise(n=>{m.add(e={c:t,f:n})})}(t=>{if(!v&&t>=a&&(v=!0),v&&t>=p&&(g(1,0),w()),!y)return!1;if(v){const e=0+1*u((t-a)/c);g(e,1-e)}return!0}),_&&(b=function(t,e,n,r,o,l,s,i=0){const c=16.666/r;let u="{\n";for(let t=0;t<=1;t+=c){const r=e+(n-e)*l(t);u+=100*t+`%{${s(r,1-r)}}\n`}const a=u+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${i}`;if(!O[f]){if(!M){const t=$("style");document.head.appendChild(t),M=t.sheet}O[f]=!0,M.insertRule(`@keyframes ${f} ${a}`,M.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${f} ${r}ms linear ${o}ms 1 both`,j+=1,f}(n,0,1,c,i,u,_)),i||(v=!0),g(0,1),w}function E(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:r}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),o="none"===r.transform?"":r.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,o)}}function I(t){q=t}function L(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const T=[],W=[],D=[],H=[],N=Promise.resolve();let J=!1;function P(t){D.push(t)}function U(){const t=new Set;do{for(;T.length;){const t=T.shift();I(t),z(t.$$)}for(;W.length;)W.pop()();for(let e=0;e<D.length;e+=1){const n=D[e];t.has(n)||(n(),t.add(n))}D.length=0}while(T.length);for(;H.length;)H.pop()();J=!1}function z(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const F=new Set;let G;function Q(){G={r:0,c:[],p:G}}function K(){G.r||o(G.c),G=G.p}function V(t,e){t&&t.i&&(F.delete(t),t.i(e))}function X(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),G.c.push(()=>{F.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function Y(t,e){t.f(),function(t,e){X(t,1,1,()=>{e.delete(t.key)})}(t,e)}function Z(t){t&&t.c()}function tt(t,e,r){const{fragment:s,on_mount:i,on_destroy:c,after_update:u}=t.$$;s&&s.m(e,r),P(()=>{const e=i.map(n).filter(l);c?c.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(P)}function et(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){-1===t.$$.dirty[0]&&(T.push(t),J||(J=!0,N.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,n,l,s,i,c,u=[-1]){const a=q;I(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:r(),dirty:u};let m=!1;d.ctx=l?l(e,f,(t,n,r=n)=>(d.ctx&&i(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),m&&nt(e,t)),n)):[],d.update(),m=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):d.fragment&&d.fragment.c(),n.intro&&V(e.$$.fragment),tt(e,n.target,n.anchor),U()),I(a)}class ot{$destroy(){et(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const lt=[];function st(t,e){return{subscribe:it(t,e).subscribe}}function it(e,n=t){let r;const o=[];function l(t){if(s(e,t)&&(e=t,r)){const t=!lt.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),lt.push(n,e)}if(t){for(let t=0;t<lt.length;t+=2)lt[t][0](lt[t+1]);lt.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,i=t){const c=[s,i];return o.push(c),1===o.length&&(r=n(l)||t),s(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function ct(e,n,r){const s=!Array.isArray(e),i=s?[e]:e,c=n.length<2;return st(r,e=>{let r=!1;const u=[];let a=0,f=t;const d=()=>{if(a)return;f();const r=n(s?u[0]:u,e);c?e(r):f=l(r)?r:t},m=i.map((t,e)=>t.subscribe(t=>{u[e]=t,a&=~(1<<e),r&&d()},()=>{a|=1<<e}));return r=!0,d(),function(){o(m),f()}})}const ut=[...Array(24).fill("E"),...Array(16).fill("A"),...Array(15).fill("O"),...Array(15).fill("T"),...Array(13).fill("I"),...Array(13).fill("N"),...Array(13).fill("R"),...Array(10).fill("S"),...Array(7).fill("L"),...Array(5).fill("U"),...Array(8).fill("D"),...Array(5).fill("G"),...Array(6).fill("C"),...Array(6).fill("M"),...Array(4).fill("B"),...Array(4).fill("P"),...Array(5).fill("H"),...Array(4).fill("F"),...Array(4).fill("W"),...Array(4).fill("Y"),...Array(3).fill("V"),...Array(2).fill("K"),...Array(2).fill("J"),...Array(2).fill("X"),...Array(2).fill("Qu"),...Array(2).fill("Z")],at=ut.length,ft=9,dt=14,mt=[60,120,180,240,300];let ht;!async function(){const t=await fetch("data/wordlist.txt"),e=await t.text(),n=new Set(e.split("\n"));ht={isWord:t=>n.has(t)}}();const pt="options_time_limit";const gt="scores";function _t(){try{return JSON.parse(window.localStorage.getItem(gt))}catch(t){return null}}function bt(t){let e=[...ut];!function(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}(e);const n=Array(ft),r=Array(ft).fill(null).map(()=>[]);for(let t=0;t<dt;t++)for(let o=0;o<ft;o++){const l=t*ft+o;r[o].push({index:l,value:e[l%at]}),n[o]=l}const{subscribe:o,update:l}=it(r);return{subscribe:o,remove:t=>l(r=>{for(const e of t){const[t,n]=yt(e);r[n][t]=null}for(let t=0;t<ft;t++)if(r[t].includes(null)){r[t]=r[t].filter(t=>t);const o=dt-r[t].length;for(let l=0;l<o;l++)n[t]+=ft,r[t].push({index:n[t],value:e[n[t]%at]})}return[...r]})}}function $t(t){return t<0?"0:00":`${Math.floor(t/60)}:${t%60<10?"0"+t%60:t%60}`}function yt(t){return[Math.floor(t/ft),t%ft]}function vt(t,e){return t*ft+e}function wt(t){let e=t.length-3,n=0;for(;;){let r=t.indexOf("QU",n);if(-1===r)break;e--,n=r+1}let r=10,o=10;for(;e>0;)e--,r+=o,o+=10;return r}function xt(t){const{subscribe:e,update:n}=it({board_tiles:null,score_card_timer:null,is_finished:!1});return{subscribe:e,start:t=>n(()=>{const e=bt(),n=function(){const{subscribe:t,set:e,update:n}=it({score:0,matched_words:[]});return{subscribe:t,push:t=>n(({score:e,matched_words:n})=>({score:e+=wt(t),matched_words:[...n,t]})),reset:()=>e({score:0,matched_words:[]})}}(),r=function(){const t=new Date;return ct(st(new Date,(function(t){const e=setInterval(()=>{t(new Date)},1e3);return function(){clearInterval(e)}})),e=>Math.round((e-t)/1e3))}(),o=ct(r,e=>$t(t.time_limit-e)),l=ct(r,e=>e>t.time_limit);l.subscribe(e=>{if(e){const e=_t()||{best_word:"",game_types:mt.map(t=>({time_limit:t,score:0}))},r=e.game_types.find(e=>e.time_limit===t.time_limit),o=c(n);r&&r.score<o.score&&(r.score=o.score);let l=wt(e.best_word);for(const t of o.matched_words){const n=wt(t);n>l&&(e.best_word=t,l=n)}!function(t){try{window.localStorage.setItem(gt,JSON.stringify(t))}catch(t){return null}}(e)}});return{board_tiles:e,score_card:n,timer_text:o,is_finished:l}}),isWord:t=>ht.isWord(t)}}function At(e){let n,r,o;return{c(){n=$("section"),r=y("Timer: "),o=y(e[1]),A(n,"class","game-timer svelte-l7osmg")},m(t,e){g(t,n,e),p(n,r),p(n,o)},p(t,[e]){2&e&&S(o,t[1])},i:t,o:t,d(t){t&&_(n)}}}function St(e,n,r){let o,l=t,s=()=>(l(),l=i(c,t=>r(1,o=t)),c);e.$$.on_destroy.push(()=>l());let{timer:c}=n;return s(),e.$set=t=>{"timer"in t&&s(r(0,c=t.timer))},[c,o]}class Ct extends ot{constructor(t){super(),rt(this,t,St,At,s,{timer:0})}}function kt(t,e,n){const r=t.slice();return r[1]=e[n],r}function Mt(e){let n,r,o,l,s,i,c,u=$t(e[1].time_limit)+"",a=e[1].score+"";return{c(){n=$("tr"),r=$("td"),o=y(u),l=v(),s=$("td"),i=y(a),c=v(),A(r,"class","border px-4 py-1"),A(s,"class","border px-4 py-1")},m(t,e){g(t,n,e),p(n,r),p(r,o),p(n,l),p(n,s),p(s,i),p(n,c)},p:t,d(t){t&&_(n)}}}function qt(e){let n,r=null!=e[0]&&function(t){let e,n,r,o,l,s,i,c,u,a,f,d=t[0].game_types,m=[];for(let e=0;e<d.length;e+=1)m[e]=Mt(kt(t,d,e));return{c(){e=$("h2"),e.textContent="High Scores",n=v(),r=$("div"),o=$("span"),o.textContent="Best Word:",l=v(),s=$("span"),s.textContent=`${t[0].best_word} (${wt(t[0].best_word)} points!)`,i=v(),c=$("table"),u=$("thead"),u.innerHTML='<tr><th class="px-4 py-1">Time</th> \n          <th class="px-4 py-1">Best Score</th></tr>',a=v(),f=$("tbody");for(let t=0;t<m.length;t+=1)m[t].c();A(e,"class","text-2xl"),A(o,"class","text-gray-500 px-2 text-l"),A(r,"class","py-1"),A(c,"class","table-auto py-2")},m(t,d){g(t,e,d),g(t,n,d),g(t,r,d),p(r,o),p(r,l),p(r,s),g(t,i,d),g(t,c,d),p(c,u),p(c,a),p(c,f);for(let t=0;t<m.length;t+=1)m[t].m(f,null)},p(t,e){if(1&e){let n;for(d=t[0].game_types,n=0;n<d.length;n+=1){const r=kt(t,d,n);m[n]?m[n].p(r,e):(m[n]=Mt(r),m[n].c(),m[n].m(f,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=d.length}},d(t){t&&_(e),t&&_(n),t&&_(r),t&&_(i),t&&_(c),b(m,t)}}}(e);return{c(){n=$("section"),r&&r.c(),A(n,"class","high-score-section svelte-1j2hlld")},m(t,e){g(t,n,e),r&&r.m(n,null)},p(t,[e]){null!=t[0]&&r.p(t,e)},i:t,o:t,d(t){t&&_(n),r&&r.d()}}}function jt(t){return[_t()]}class Ot extends ot{constructor(t){super(),rt(this,t,jt,qt,s,{})}}function Rt(t,e,n){const r=t.slice();return r[4]=e[n],r}function Bt(t){let e,n,r,o,l,s,i,c=t[4]+"",u=wt(t[4])+"";return{c(){e=$("li"),n=$("span"),r=y(c),o=v(),l=$("span"),s=y(u),i=v(),A(n,"class","word-list__item-text svelte-1rwj71g"),A(l,"class","word-list__item-score svelte-1rwj71g"),A(e,"class","word-list__item svelte-1rwj71g")},m(t,c){g(t,e,c),p(e,n),p(n,r),p(e,o),p(e,l),p(l,s),p(e,i)},p(t,e){1&e&&c!==(c=t[4]+"")&&S(r,c),1&e&&u!==(u=wt(t[4])+"")&&S(s,u)},d(t){t&&_(e)}}}function Et(e){let n,r,o,l,s,i,c=e[0],u=[];for(let t=0;t<c.length;t+=1)u[t]=Bt(Rt(e,c,t));return{c(){n=$("section"),r=$("div"),o=y("Score: "),l=y(e[1]),s=v(),i=$("ul");for(let t=0;t<u.length;t+=1)u[t].c();A(r,"class","score-total svelte-1rwj71g"),A(i,"class","word-list svelte-1rwj71g"),A(n,"class","score-card")},m(t,e){g(t,n,e),p(n,r),p(r,o),p(r,l),p(n,s),p(n,i);for(let t=0;t<u.length;t+=1)u[t].m(i,null)},p(t,[e]){if(2&e&&S(l,t[1]),1&e){let n;for(c=t[0],n=0;n<c.length;n+=1){const r=Rt(t,c,n);u[n]?u[n].p(r,e):(u[n]=Bt(r),u[n].c(),u[n].m(i,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}},i:t,o:t,d(t){t&&_(n),b(u,t)}}}function It(t,e,n){let r,o,{score_card:l}=e;l.subscribe(({matched_words:t,score:e})=>{n(1,o=e),n(0,r=t)});return t.$set=t=>{"score_card"in t&&n(2,l=t.score_card)},[r,o,l]}class Lt extends ot{constructor(t){super(),rt(this,t,It,Et,s,{score_card:2})}}class Tt extends ot{constructor(t){super(),rt(this,t,null,null,s,{})}}function Wt(t){const e=t-1;return e*e*e+1}function Dt(t,e,n){const r=getComputedStyle(t),o="none"===r.transform?"":r.transform,s=e.from.width/t.clientWidth,i=e.from.height/t.clientHeight,c=(e.from.left-e.to.left)/s,u=(e.from.top-e.to.top)/i,a=Math.sqrt(c*c+u*u),{delay:f=0,duration:d=(t=>120*Math.sqrt(t)),easing:m=Wt}=n;return{delay:f,duration:l(d)?d(a):d,easing:m,css:(t,e)=>`transform: ${o} translate(${e*c}px, ${e*u}px);`}}function Ht(e){let n,r,l,s,i;return{c(){n=$("div"),r=$("div"),l=$("div"),s=y(e[1]),A(l,"class","hex__text svelte-1pb2m0s"),A(r,"class","hex__body svelte-1pb2m0s"),A(n,"class","hex svelte-1pb2m0s"),k(n,"hex--selected",e[0]),i=[w(n,"selectstart",x(e[2])),w(n,"mousedown",x(e[3])),w(n,"mouseover",x(e[4])),w(n,"selectstart",x(e[5]))]},m(t,e){g(t,n,e),p(n,r),p(r,l),p(l,s)},p(t,[e]){2&e&&S(s,t[1]),1&e&&k(n,"hex--selected",t[0])},i:t,o:t,d(t){t&&_(n),o(i)}}}function Nt(t,e,n){let{is_selected:r}=e,{tile:o}=e;return t.$set=t=>{"is_selected"in t&&n(0,r=t.is_selected),"tile"in t&&n(1,o=t.tile)},[r,o,function(e){L(t,e)},function(e){L(t,e)},function(e){L(t,e)},function(e){L(t,e)}]}class Jt extends ot{constructor(t){super(),rt(this,t,Nt,Ht,s,{is_selected:0,tile:1})}}function Pt(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function Ut(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function zt(t){let e,n;return{c(){e=$("div"),A(e,"class",n=u(`board-tiles__edge board-tiles__edge--position-${t[1][vt(t[24],t[21])]}`)+" svelte-1w99vg0")},m(t,n){g(t,e,n)},p(t,r){6&r&&n!==(n=u(`board-tiles__edge board-tiles__edge--position-${t[1][vt(t[24],t[21])]}`)+" svelte-1w99vg0")&&A(e,"class",n)},d(t){t&&_(e)}}}function Ft(e,n){let r,o,l,s,i="boolean"!=typeof n[1][vt(n[24],n[21])],c=t,u=i&&zt(n);const a=new Jt({props:{tile:n[22].value,is_selected:!1!==n[1][vt(n[24],n[21])]}});return a.$on("mousedown",(function(...t){return n[15](n[24],n[21],...t)})),a.$on("mouseover",(function(...t){return n[16](n[24],n[21],...t)})),{key:e,first:null,c(){r=$("div"),u&&u.c(),o=v(),Z(a.$$.fragment),A(r,"class","board-tiles__tile svelte-1w99vg0"),this.first=r},m(t,e){g(t,r,e),u&&u.m(r,null),p(r,o),tt(a,r,null),s=!0},p(t,e){n=t,6&e&&(i="boolean"!=typeof n[1][vt(n[24],n[21])]),i?u?u.p(n,e):(u=zt(n),u.c(),u.m(r,o)):u&&(u.d(1),u=null);const l={};4&e&&(l.tile=n[22].value),6&e&&(l.is_selected=!1!==n[1][vt(n[24],n[21])]),a.$set(l)},r(){l=r.getBoundingClientRect()},f(){E(r),c()},a(){c(),c=B(r,l,Dt,{duration:400})},i(t){s||(V(a.$$.fragment,t),s=!0)},o(t){X(a.$$.fragment,t),s=!1},d(t){t&&_(r),u&&u.d(),et(a)}}}function Gt(t){let e,n,r,o=[],l=new Map,s=t[19];const i=t=>t[22].index;for(let e=0;e<s.length;e+=1){let n=Pt(t,s,e),r=i(n);l.set(r,o[e]=Ft(r,n))}return{c(){e=$("div");for(let t=0;t<o.length;t+=1)o[t].c();n=v(),A(e,"class","board-tiles__col svelte-1w99vg0"),k(e,"board-tiles__col--even",t[21]%2)},m(t,l){g(t,e,l);for(let t=0;t<o.length;t+=1)o[t].m(e,null);p(e,n),r=!0},p(t,r){const s=t[19];Q();for(let t=0;t<o.length;t+=1)o[t].r();o=function(t,e,n,r,o,l,s,i,c,u,a,f){let d=t.length,m=l.length,h=d;const p={};for(;h--;)p[t[h].key]=h;const g=[],_=new Map,b=new Map;for(h=m;h--;){const t=f(o,l,h),i=n(t);let c=s.get(i);c?r&&c.p(t,e):(c=u(i,t),c.c()),_.set(i,g[h]=c),i in p&&b.set(i,Math.abs(h-p[i]))}const $=new Set,y=new Set;function v(t){V(t,1),t.m(i,a),s.set(t.key,t),a=t.first,m--}for(;d&&m;){const e=g[m-1],n=t[d-1],r=e.key,o=n.key;e===n?(a=e.first,d--,m--):_.has(o)?!s.has(r)||$.has(r)?v(e):y.has(o)?d--:b.get(r)>b.get(o)?(y.add(r),v(e)):($.add(o),d--):(c(n,s),d--)}for(;d--;){const e=t[d];_.has(e.key)||c(e,s)}for(;m;)v(g[m-1]);return g}(o,r,i,1,t,s,l,e,Y,Ft,n,Pt);for(let t=0;t<o.length;t+=1)o[t].a();K()},i(t){if(!r){for(let t=0;t<s.length;t+=1)V(o[t]);r=!0}},o(t){for(let t=0;t<o.length;t+=1)X(o[t]);r=!1},d(t){t&&_(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function Qt(t){let e,n,r,l,s=t[2],i=[];for(let e=0;e<s.length;e+=1)i[e]=Gt(Ut(t,s,e));const c=t=>X(i[t],1,1,()=>{i[t]=null});return{c(){e=$("section"),n=$("div");for(let t=0;t<i.length;t+=1)i[t].c();A(n,"class","board-tiles svelte-1w99vg0"),A(e,"class","board svelte-1w99vg0"),l=[w(n,"mouseleave",x(t[17])),w(n,"mouseup",x(t[18]))]},m(t,o){g(t,e,o),p(e,n);for(let t=0;t<i.length;t+=1)i[t].m(n,null);r=!0},p(t,[e]){if(102&e){let r;for(s=t[2],r=0;r<s.length;r+=1){const o=Ut(t,s,r);i[r]?(i[r].p(o,e),V(i[r],1)):(i[r]=Gt(o),i[r].c(),V(i[r],1),i[r].m(n,null))}for(Q(),r=s.length;r<i.length;r+=1)c(r);K()}},i(t){if(!r){for(let t=0;t<s.length;t+=1)V(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)X(i[t]);r=!1},d(t){t&&_(e),b(i,t),o(l)}}}function Kt(e,n,r){let o,l=t,s=()=>(l(),l=i(c,t=>r(10,o=t)),c);e.$$.on_destroy.push(()=>l());let{game:c}=n;s();let u,a=[],f=!1,d=Array(ft*dt).fill(!1);const m=o.board_tiles.subscribe(t=>{r(2,u=t)});let h=!1;const p=o.is_finished.subscribe(t=>{h=t});function g(t){const[e,n]=yt(t);return u[n][e].value.toUpperCase()}function _(){for(const t of a)r(1,d[t]=!1,d);a=[]}function b(){f=!1,_()}function $(){if(f=!1,a.length>=3){const t=a.map(g).join("");c.isWord(t.toLowerCase())&&(o.board_tiles.remove(a),o.score_card.push(t))}_()}function y(t,e){f=!0,_(),a=[vt(t,e)],r(1,d[vt(t,e)]=!0,d)}function v(t,e){if(f){const n=vt(t,e),o=a.indexOf(n);if(-1===o){const o=vt(t,e);(0===a.length||function(t,e){const[n,r]=yt(t),[o,l]=yt(e);return r===l?1===Math.abs(n-o):(n===o||n-o==1-r%2*2)&&1===Math.abs(r-l)}(o,a[a.length-1]))&&(r(1,d[o]=function(t,e){const[n,r]=yt(t),[o,l]=yt(e);if(r===l)return n-o==-1?0:n-o==1&&6;if(n===o)return r-l==-1?l%2==0?4:2:r-l==1&&(l%2==0?8:10);if(l%2==0){if(n-o==-1){if(r-l==1)return 10;if(r-l==-1)return 2}return!1}if(n-o==1){if(r-l==1)return 8;if(r-l==-1)return 4}return!1}(o,a[a.length-1]),d),a.push(n),a=a)}else if(o===a.length-2){const t=a.pop();a=a,r(1,d[t]=!1,d)}}}return e.$set=t=>{"game"in t&&s(r(0,c=t.game))},[c,d,u,b,$,y,v,a,f,h,o,m,p,g,_,(t,e)=>y(t,e),(t,e)=>v(t,e),()=>b(),()=>$()]}class Vt extends ot{constructor(t){super(),rt(this,t,Kt,Qt,s,{game:0})}}function Xt(t,e,n){const r=t.slice();return r[9]=e[n],r}function Yt(t){let e,n,r,o;const l=new Vt({props:{game:t[4]}}),s=new Ct({props:{timer:t[3].timer_text}}),i=new Lt({props:{score_card:t[3].score_card}});return{c(){Z(l.$$.fragment),e=v(),n=$("div"),Z(s.$$.fragment),r=v(),Z(i.$$.fragment),A(n,"class","right-pane svelte-1312qnl")},m(t,c){tt(l,t,c),g(t,e,c),g(t,n,c),tt(s,n,null),p(n,r),tt(i,n,null),o=!0},p(t,e){const n={};8&e&&(n.timer=t[3].timer_text),s.$set(n);const r={};8&e&&(r.score_card=t[3].score_card),i.$set(r)},i(t){o||(V(l.$$.fragment,t),V(s.$$.fragment,t),V(i.$$.fragment,t),o=!0)},o(t){X(l.$$.fragment,t),X(s.$$.fragment,t),X(i.$$.fragment,t),o=!1},d(t){et(l,t),t&&_(e),t&&_(n),et(s),et(i)}}}function Zt(t){let e,n,r,l,s,i,c,u,a,f,d,m,h=mt,y=[];for(let e=0;e<h.length;e+=1)y[e]=te(Xt(t,h,e));const x=new Ot({});return{c(){e=$("div"),n=$("form"),r=$("div"),l=$("div"),l.innerHTML='<label class="input-label md:text-right md:mb-0 svelte-1312qnl" for="options_time_limit">\n                Time Limit\n              </label>',s=v(),i=$("div"),c=$("select");for(let t=0;t<y.length;t+=1)y[t].c();u=v(),a=$("button"),a.textContent="Start Game",f=v(),Z(x.$$.fragment),A(l,"class","md:w-1/2"),A(c,"id","options_time_limit"),A(c,"class","input-select svelte-1312qnl"),void 0===t[2].time_limit&&P(()=>t[8].call(c)),A(i,"class","md:w-1/2"),A(r,"class","md:flex md:items-center mb-6"),A(a,"class","button button-primary svelte-1312qnl"),A(n,"class","w-full max-w-sm inline-block align-middle"),A(e,"class","start-page svelte-1312qnl"),m=[w(c,"change",t[8]),w(a,"click",t[5])]},m(o,m){g(o,e,m),p(e,n),p(n,r),p(r,l),p(r,s),p(r,i),p(i,c);for(let t=0;t<y.length;t+=1)y[t].m(c,null);C(c,t[2].time_limit),p(n,u),p(n,a),p(e,f),tt(x,e,null),d=!0},p(t,e){if(0&e){let n;for(h=mt,n=0;n<h.length;n+=1){const r=Xt(t,h,n);y[n]?y[n].p(r,e):(y[n]=te(r),y[n].c(),y[n].m(c,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=h.length}4&e&&C(c,t[2].time_limit)},i(t){d||(V(x.$$.fragment,t),d=!0)},o(t){X(x.$$.fragment,t),d=!1},d(t){t&&_(e),b(y,t),et(x),o(m)}}}function te(e){let n,r,o,l=$t(e[9])+"";return{c(){n=$("option"),r=y(l),n.__value=o=e[9],n.value=n.__value},m(t,e){g(t,n,e),p(n,r)},p:t,d(t){t&&_(n)}}}function ee(e){let n,r,o,l;return{c(){n=$("div"),r=$("div"),o=$("button"),o.textContent="Restart",A(o,"class","button button-primary svelte-1312qnl"),A(r,"class","board-score svelte-1312qnl"),A(n,"class","board-overlay svelte-1312qnl"),l=w(o,"click",re)},m(t,e){g(t,n,e),p(n,r),p(r,o)},p:t,d(t){t&&_(n),l()}}}function ne(t){let e,n,r,o,l,s,i,c,u;const a=[Zt,Yt],f=[];function d(t,e){return t[0]?1:0}l=d(t),s=f[l]=a[l](t);let m=t[1]&&ee();const h=new Tt({});return{c(){e=$("main"),n=$("h1"),n.textContent="Hex-Spell",r=v(),o=$("div"),s.c(),i=v(),m&&m.c(),c=v(),Z(h.$$.fragment),A(n,"class","page-title svelte-1312qnl"),A(o,"class","page-layout svelte-1312qnl"),A(e,"class","page svelte-1312qnl")},m(t,s){g(t,e,s),p(e,n),p(e,r),p(e,o),f[l].m(o,null),p(e,i),m&&m.m(e,null),g(t,c,s),tt(h,t,s),u=!0},p(t,[n]){let r=l;l=d(t),l===r?f[l].p(t,n):(Q(),X(f[r],1,1,()=>{f[r]=null}),K(),s=f[l],s||(s=f[l]=a[l](t),s.c()),V(s,1),s.m(o,null)),t[1]?m?m.p(t,n):(m=ee(),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(t){u||(V(s),V(h.$$.fragment,t),u=!0)},o(t){X(s),X(h.$$.fragment,t),u=!1},d(t){t&&_(e),f[l].d(),m&&m.d(),t&&_(c),et(h,t)}}}function re(){window.location.reload(!1)}function oe(t,e,n){let r,o=!1,l=!1,s=xt();var c,u;let a;c=s,u=t=>n(3,r=t),t.$$.on_destroy.push(i(c,u));let f=function(){const t={time_limit:180};try{const e=window.localStorage.getItem(pt);null!=e&&(t.time_limit=parseInt(e,10))}catch(t){}return t}(),d=null;return s.subscribe(t=>{d&&d();const e=r.board_tiles&&r.board_tiles.subscribe(t=>{a=t}),s=r.is_finished&&r.is_finished.subscribe(t=>{t?n(1,l=!0):n(0,o=!0)});d=()=>{e&&e(),s&&s(),d=null}}),[o,l,f,r,s,function(){!function(t){try{window.localStorage.setItem(pt,t)}catch(t){}}(f.time_limit),s.start(f),n(1,l=!1)},a,d,function(){f.time_limit=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(2,f)}]}return new class extends ot{constructor(t){super(),rt(this,t,oe,ne,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
